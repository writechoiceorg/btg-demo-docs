---
id: put-split-rule-managed-pactual-id
title: "Update managed rule"
description: "Endpoint used to update a managed rule by pactualId"
sidebar_label: "Update managed rule"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "put api-method"
info_path: reference/transactions/btg-pactual-banking-as-a-service-transactions
custom_edit_url: null
proxy: https://proxy.writechoice.io/
---

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Update managed rule"}
>
</Heading>

<MethodEndpoint
  method={"put"}
  path={"/split/rule/managed/{pactualId}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Endpoint used to update a managed rule by pactualId

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"pactualId","description":"BTG Pactual BaaS unique ID","schema":{"format":"uuid","type":"string"},"in":"path","required":true}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Payload for managed rule update","content":{"application/json":{"schema":{"required":["priority","splitters"],"type":"object","properties":{"description":{"nullable":true,"description":"Description of Managed Rule","type":"string"},"priority":{"format":"int32","description":"Rule priority over others when there are several that met the trigger filters.","type":"integer"},"triggers":{"description":"Trigger of rule.","type":"array","items":{"nullable":true,"description":"Settings that trigger rule processing to process splitters and create payment transactions.","required":["type"],"type":"object","properties":{"type":{"description":"Type of transaction that originated the cashin.","enum":["Paymentslip","PIX","Transfer"],"type":"string","title":"CspTriggerType"},"amountRange":{"description":"Amount range that will be used as a rule trigger filter. Based on cash in amount.","required":["maxAmount","minAmount"],"type":"object","properties":{"minAmount":{"format":"int64","description":"Minimun amount","type":"integer"},"maxAmount":{"format":"int64","description":"Maximum amount","type":"integer"}},"title":"CspAmountRange"},"taxId":{"nullable":true,"description":"TaxId referring to the sender of the cash in (if it exists)","type":"string"},"creditAccountId":{"nullable":true,"format":"uuid","description":"AccountId (BaaS Id) of cashin credit account","type":"string"},"debitAccount":{"description":"Account information referring to the sender of the cash in (if it exists)","required":["branch","account"],"type":"object","properties":{"account":{"description":"The account number.","type":"string"},"branch":{"description":"The branch number.","type":"string"},"bank":{"description":"The bank code.","type":"string"},"ispb":{"description":"ISPB (Brazilian Payments System Identifier) of the SPI (Instant Payments System) participant with numbers only.","type":"string"}},"title":"CspTriggerAccount"}},"title":"CspRuleTrigger"}},"splitters":{"description":"Splitters of rule.","type":"array","items":{"description":"Splitter Settings for creating a payment transaction.","required":["amountDefinition","order","type"],"type":"object","properties":{"type":{"description":"Type of payment transaction.","enum":["PIX","Transfer"],"type":"string","title":"CspSplitTransactionType"},"order":{"format":"int32","description":"Sequence order that the splitter will be processed. Important when \"allowPartiallyProcess\" is enabled for rule.","type":"integer"},"amountDefinition":{"description":"Definition of amount of payment transaction. Only one of the options (fixedAmount, percentile or remainderAmount) for this attribute must be defined.","type":"object","properties":{"fixedAmount":{"nullable":true,"format":"int64","description":"A fixed amount for creating the payment transaction derived from cash in. Format in cents. Example: 100 = R$1.00","type":"integer"},"percentile":{"nullable":true,"format":"double","description":"Percentile that will be used to calculate the value of the payment transaction derived from cash in. Format in decimal. Example: 0.15 = 15% (if the cash in value is R$100.00, the payment transaction will be R$15.00)","type":"number"},"remainderAmount":{"nullable":true,"description":"Defines that the payment transaction will be the remaining amount after processing the cash in split","type":"boolean"}},"title":"CspAmountDefinition"},"addDaysToPayment":{"format":"int32","description":"Number of days that will be added, based on the cash in processing date, to define the effective date of the payment transaction.","default":0,"type":"integer"},"disallowAggregation":{"description":"If \"true\" prevents the aggregation of payment transactions at the time of payment execution.","default":false,"type":"boolean"},"automaticApproval":{"description":"Defines whether the payment transaction generated by the splitter will be automatically approved.","default":false,"type":"boolean"},"creditAccount":{"description":"Credit account used for payment. (Required when the PIX key is null)","allOf":[{"required":["account","accountType","name","taxId"],"type":"object","properties":{"name":{"description":"The acocunt's name.","type":"string"},"taxId":{"description":"Tax Identification - CPF (11 digits formatted) or CNPJ (14 digits formatted), fill with zeros left of the number if necessary.","type":"string"},"accountType":{"description":"The account type (CACC = Current Account, SLRY = Salary Account, SVGS = Saving Account, TRAN = Transactional Account).","enum":["CACC","SLRY","SVGS","TRAN"],"type":"string","title":"CspAccountType"},"account":{"description":"The account number.","type":"string"},"branch":{"description":"The branch number.","type":"string"},"bank":{"description":"The bank code.","type":"string"},"ispb":{"description":"ISPB (Brazilian Payments System Identifier) of the SPI (Instant Payments System) participant with numbers only.","type":"string"}},"title":"CspCreditAccount"},{"type":"object"}],"title":"CspSplitterAccount"},"pixKey":{"nullable":true,"description":"PIX key used for payment. (Only when the payment type is PIX)","type":"string"}},"title":"CspRuleSplitter"}},"allowPartiallyProcess":{"description":"Defines whether the rule will be allowed to be processed even when the total amount of payment transactions generated by the splitters is greater than the cash in amount. Important: Payment transactions that exceed the total (according to the order) will be ignored.","type":"boolean"}},"example":{"description":"Product 001 Sales","priority":1,"allowPartiallyProcess":false,"triggers":[{"type":"Paymentslip","amountRange":{"minAmount":0,"maxAmount":9000}},{"type":"PIX","taxId":"12345678901"},{"type":"Transfer","amountRange":{"minAmount":0,"maxAmount":999999999},"debitAccount":{"account":341987,"branch":146,"bank":341}}],"splitters":[{"type":"PIX","order":1,"amountDefinition":{"percentile":0.15},"addDaysToPayment":0,"disallowAggregation":false,"automaticApproval":false,"creditAccount":{"name":"Thomas A. Anderson","taxId":32176544561,"accountType":"CACC","account":321456,"branch":87,"bank":123,"ispb":98765432}},{"type":"Transfer","order":2,"amountDefinition":{"fixedAmount":1000},"addDaysToPayment":5,"disallowAggregation":true,"automaticApproval":false,"creditAccount":{"name":"John Wick","taxId":29876543212,"accountType":"CACC","account":654987,"branch":37,"bank":1}},{"type":"PIX","order":999,"amountDefinition":{"remainderAmount":true},"addDaysToPayment":0,"disallowAggregation":false,"automaticApproval":true,"pixKey":"09876543210"}]},"title":"CspManagedRuleUpdateRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"content":{"application/json":{"schema":{"description":"Split Managed Rule Response","required":["body"],"allOf":[{"description":"BaaS Response API Envelope","required":["version","status"],"type":"object","properties":{"version":{"description":"The api version.","type":"string","example":"1.0.0"},"status":{"format":"int32","description":"The HTTP response code.","type":"integer","example":200}},"title":"ApiEnvelope"},{"type":"object","properties":{"body":{"description":"Split Managed Rule Entity","required":["body"],"allOf":[{"description":"BaaS Entity Envelope","required":["pactualId","clientRequestId","createTimestamp","lastUpdateTimestamp","status","entity"],"type":"object","properties":{"pactualId":{"format":"uuid","description":"Unique resource identificator (uuid) generated by api.","type":"string","title":"PactualId"},"clientRequestId":{"description":"The unique transaction identification given by the client side. This value can't be repeated.","type":"string","title":"ClientRequestId"},"createTimestamp":{"format":"date-time","description":"The string representation of the Timestamp that the record was created (UTC).","pattern":"yyyy-MM-ddTHH:mm:ssZ","type":"string","title":"CreateTimestamp"},"lastUpdateTimestamp":{"format":"date-time","description":"The string representation of the Timestamp that the record was last updated (UTC).","pattern":"yyyy-MM-ddTHH:mm:ssZ","type":"string","title":"LastUpdateTimestamp"},"status":{"description":"The operation status.","type":"string","title":"Status"},"entity":{"description":"Operation Contract Entity.","type":"string","title":"Entity"},"tags":{"nullable":true,"description":"Tags that can be sent by the client, it will be saved on the Entity, use as a metadata field","uniqueItems":true,"type":"array","items":{"type":"string"},"example":["tag1","tag2"],"title":"Tags"},"errorCode":{"description":"The error code.","type":"string","title":"ErrorCode"},"errorDescription":{"description":"The error description.","type":"string","title":"ErrorDescription"}},"title":"EntityEnvelope"},{"type":"object","properties":{"body":{"description":"Managed Rule Entity","required":["splitters","priority"],"type":"object","properties":{"description":{"nullable":true,"description":"Description of Managed Rule","type":"string"},"priority":{"format":"int32","description":"Rule priority over others when there are several that met the trigger filters.","type":"integer"},"triggers":{"description":"List of settings that trigger rule processing to process splitters and create payment transactions.","type":"array","items":{"nullable":true,"description":"Settings that trigger rule processing to process splitters and create payment transactions.","required":["type"],"type":"object","properties":{"type":{"description":"Type of transaction that originated the cashin.","enum":["Paymentslip","PIX","Transfer"],"type":"string","title":"CspTriggerType"},"amountRange":{"description":"Amount range that will be used as a rule trigger filter. Based on cash in amount.","required":["maxAmount","minAmount"],"type":"object","properties":{"minAmount":{"format":"int64","description":"Minimun amount","type":"integer"},"maxAmount":{"format":"int64","description":"Maximum amount","type":"integer"}},"title":"CspAmountRange"},"taxId":{"nullable":true,"description":"TaxId referring to the sender of the cash in (if it exists)","type":"string"},"creditAccountId":{"nullable":true,"format":"uuid","description":"AccountId (BaaS Id) of cashin credit account","type":"string"},"debitAccount":{"description":"Account information referring to the sender of the cash in (if it exists)","required":["branch","account"],"type":"object","properties":{"account":{"description":"The account number.","type":"string"},"branch":{"description":"The branch number.","type":"string"},"bank":{"description":"The bank code.","type":"string"},"ispb":{"description":"ISPB (Brazilian Payments System Identifier) of the SPI (Instant Payments System) participant with numbers only.","type":"string"}},"title":"CspTriggerAccount"}},"title":"CspRuleTrigger"}},"allowPartiallyProcess":{"description":"Defines whether the rule will be allowed to be processed even when the total amount of payment transactions generated by the splitters is greater than the cash in amount. Important: Payment transactions that exceed the total (according to the order) will be ignored.","default":false,"type":"boolean"},"splitters":{"description":"List of splitters settings for creating a payment transaction.","type":"array","items":{"description":"Splitter Settings for creating a payment transaction.","required":["amountDefinition","order","type"],"type":"object","properties":{"type":{"description":"Type of payment transaction.","enum":["PIX","Transfer"],"type":"string","title":"CspSplitTransactionType"},"order":{"format":"int32","description":"Sequence order that the splitter will be processed. Important when \"allowPartiallyProcess\" is enabled for rule.","type":"integer"},"amountDefinition":{"description":"Definition of amount of payment transaction. Only one of the options (fixedAmount, percentile or remainderAmount) for this attribute must be defined.","type":"object","properties":{"fixedAmount":{"nullable":true,"format":"int64","description":"A fixed amount for creating the payment transaction derived from cash in. Format in cents. Example: 100 = R$1.00","type":"integer"},"percentile":{"nullable":true,"format":"double","description":"Percentile that will be used to calculate the value of the payment transaction derived from cash in. Format in decimal. Example: 0.15 = 15% (if the cash in value is R$100.00, the payment transaction will be R$15.00)","type":"number"},"remainderAmount":{"nullable":true,"description":"Defines that the payment transaction will be the remaining amount after processing the cash in split","type":"boolean"}},"title":"CspAmountDefinition"},"addDaysToPayment":{"format":"int32","description":"Number of days that will be added, based on the cash in processing date, to define the effective date of the payment transaction.","default":0,"type":"integer"},"disallowAggregation":{"description":"If \"true\" prevents the aggregation of payment transactions at the time of payment execution.","default":false,"type":"boolean"},"automaticApproval":{"description":"Defines whether the payment transaction generated by the splitter will be automatically approved.","default":false,"type":"boolean"},"creditAccount":{"description":"Credit account used for payment. (Required when the PIX key is null)","allOf":[{"required":["account","accountType","name","taxId"],"type":"object","properties":{"name":{"description":"The acocunt's name.","type":"string"},"taxId":{"description":"Tax Identification - CPF (11 digits formatted) or CNPJ (14 digits formatted), fill with zeros left of the number if necessary.","type":"string"},"accountType":{"description":"The account type (CACC = Current Account, SLRY = Salary Account, SVGS = Saving Account, TRAN = Transactional Account).","enum":["CACC","SLRY","SVGS","TRAN"],"type":"string","title":"CspAccountType"},"account":{"description":"The account number.","type":"string"},"branch":{"description":"The branch number.","type":"string"},"bank":{"description":"The bank code.","type":"string"},"ispb":{"description":"ISPB (Brazilian Payments System Identifier) of the SPI (Instant Payments System) participant with numbers only.","type":"string"}},"title":"CspCreditAccount"},{"type":"object"}],"title":"CspSplitterAccount"},"pixKey":{"nullable":true,"description":"PIX key used for payment. (Only when the payment type is PIX)","type":"string"}},"title":"CspRuleSplitter"}}},"example":{"description":"Product 001 Sales","priority":1,"allowPartiallyProcess":false,"triggers":[{"type":"Paymentslip","amountRange":{"minAmount":0,"maxAmount":9000}},{"type":"PIX","taxId":"12345678901"},{"type":"Transfer","amountRange":{"minAmount":0,"maxAmount":999999999},"debitAccount":{"account":341987,"branch":146,"bank":341}}],"splitters":[{"type":"PIX","order":1,"amountDefinition":{"percentile":0.15},"addDaysToPayment":0,"disallowAggregation":false,"automaticApproval":false,"creditAccount":{"name":"Thomas A. Anderson","taxId":32176544561,"accountType":"CACC","account":321456,"branch":87,"bank":123,"ispb":98765432}},{"type":"Transfer","order":2,"amountDefinition":{"fixedAmount":1000},"addDaysToPayment":5,"disallowAggregation":true,"automaticApproval":false,"creditAccount":{"name":"John Wick","taxId":29876543212,"accountType":"CACC","account":654987,"branch":37,"bank":1}},{"type":"PIX","order":999,"amountDefinition":{"remainderAmount":true},"addDaysToPayment":0,"disallowAggregation":false,"automaticApproval":true,"pixKey":"09876543210"}]},"title":"CspManagedRule"}}}],"example":{"pactualId":"023297b6-c810-45cf-b879-c25f92ccce8f","clientRequestId":"CLIREQID-20190824-0000001","createTimestamp":"2019-08-24T14:15:22Z","lastUpdateTimestamp":"2019-08-24T14:15:22Z","status":"ENABLED","entity":"CashinSplitManagedRule","tags":["tag1","tag2"],"body":{"description":"Product 001 Sales","priority":1,"allowPartiallyProcess":false,"triggers":[{"type":"Paymentslip","amountRange":{"minAmount":0,"maxAmount":9000}},{"type":"PIX","taxId":"12345678901"},{"type":"Transfer","amountRange":{"minAmount":0,"maxAmount":999999999},"debitAccount":{"account":341987,"branch":146,"bank":341}}],"splitters":[{"type":"PIX","order":1,"amountDefinition":{"percentile":0.15},"addDaysToPayment":0,"disallowAggregation":false,"automaticApproval":false,"creditAccount":{"name":"Thomas A. Anderson","taxId":32176544561,"accountType":"CACC","account":321456,"branch":87,"bank":123,"ispb":98765432}},{"type":"Transfer","order":2,"amountDefinition":{"fixedAmount":1000},"addDaysToPayment":5,"disallowAggregation":true,"automaticApproval":false,"creditAccount":{"name":"John Wick","taxId":29876543212,"accountType":"CACC","account":654987,"branch":37,"bank":1}},{"type":"PIX","order":999,"amountDefinition":{"remainderAmount":true},"addDaysToPayment":0,"disallowAggregation":false,"automaticApproval":true,"pixKey":"09876543210"}]}},"title":"CspManagedRuleEntityEnvelope"}}}],"title":"CspManagedRuleEntityEnvelopeSucessApiResponseEnvelope"}}},"description":"Created"},"400":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"BadRequestExample":{"value":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is mandatory."},{"errorCode":"PCE001","message":"The field 'accountNumber' is mandatory."}]}}}}},"description":"A BadRequest response."},"401":{"description":"Response when a request is not athorized for the user."},"404":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"NotFoundExample":{"value":{"version":"1.0.0","status":404}}}}},"description":"A NotFound response."},"500":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"InternalServerErrorExample":{"value":{"version":"1.0.0","status":500,"errors":[{"errorCode":"PIE001","message":"Internal server error"}]}}}}},"description":"Internal server error responses."}}}
>
  
</StatusCodes>


      
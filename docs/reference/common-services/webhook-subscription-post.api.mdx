---
id: webhook-subscription-post
title: "Post a new webhook subscription"
description: "Webhooks allow you to build or set up integrations which subscribe to certain resource events."
sidebar_label: "Post a new webhook subscription"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: reference/common-services/btg-pactual-banking-as-a-service-commom-methods
custom_edit_url: null
proxy: https://proxy.writechoice.io/
---

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Post a new webhook subscription"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/webhook/subscription"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Webhooks allow you to build or set up integrations which subscribe to certain resource events.

When one of those events is triggered, we'll send a HTTP POST payload to the webhook's configured URL. 
You can choose which events you would like to receive. 
You can change the list of subscribed events anytime.


HTTP POST payloads that are delivered to your webhook's configured URL endpoint will contain several special headers:
    
    "x-webhook-baas-entity" -> Resource Id (entity name) 
    "x-webhook-baas-event" -> Event Name 
    "x-webhook-baas-signature" -> Hash signature (HMAC-SHA256) of request payload. This is used for you to validate the authenticity of BTG Pactual requests.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Subscription informations","content":{"application/json":{"schema":{"required":["resources"],"properties":{"resources":{"description":"List with resources and respective information for webhook subscription","type":"array","items":{"required":["entity","eventNames","secret","webhookUrl"],"type":"object","properties":{"entity":{"description":"Resource Id (entity name)","type":"string"},"blockedManyErrors":{"description":"If true, means that the subscribe blocked due to many errors when calling the webhookUrl","type":"boolean"},"qtyConsecutiveErrors":{"format":"int32","description":"Number of consecutive errors (when calling webhookUrl)","type":"integer"},"webhookUrl":{"description":"Endpoint (Http POST) that will be called for the events of this resource","type":"string"},"secret":{"description":"Used to create a hash signature (HMAC-SHA256) with each webhook request payload. This hash signature is passed along with each request in the http header as \"x-webhook-baas-signature\"","type":"string"},"eventNames":{"description":"List with event names to subscription","type":"array","items":{"type":"string"}}}}}},"type":"object","title":"SubscriptionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Success"},"400":{"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"nullable":true,"type":"string"},"title":{"nullable":true,"type":"string"},"status":{"nullable":true,"format":"int32","type":"integer"},"detail":{"nullable":true,"type":"string"},"instance":{"nullable":true,"type":"string"}},"additionalProperties":{"type":"object"}}}},"description":"Parameter mandatory"},"404":{"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"nullable":true,"type":"string"},"title":{"nullable":true,"type":"string"},"status":{"nullable":true,"format":"int32","type":"integer"},"detail":{"nullable":true,"type":"string"},"instance":{"nullable":true,"type":"string"}},"additionalProperties":{"type":"object"}}}},"description":"Resource not found"}}}
>
  
</StatusCodes>


      
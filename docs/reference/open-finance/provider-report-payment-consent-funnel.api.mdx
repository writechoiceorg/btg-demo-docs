---
id: provider-report-payment-consent-funnel
title: "Funnel of provider payment consents"
description: "Endpoint to get funnel of provider payment consents, for a given period. To fill the BACEN 'Interoperabilidade da Fase 3' sheet data, use the following fields:"
sidebar_label: "Funnel of provider payment consents"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: reference/open-finance/btg-pactual-banking-as-a-service-openfinance
custom_edit_url: null
proxy: https://proxy.writechoice.io/
---

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Funnel of provider payment consents"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/provider/report/payment/consent/funnel"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Endpoint to get funnel of provider payment consents, for a given period. To fill the BACEN 'Interoperabilidade da Fase 3' sheet data, use the following fields:

| Sheet Tab | Sheet Field | Endpoint Field |
|----------|:-------------|:-------------|
| Funil API Pagam | POST Consentimento solicitados | totalConsentRequests |
| Funil API Pagam | Geração do consent ID (não Clientes) | nonClientConsentsCreated |
| Funil API Pagam | POST Consentimento solicitados desconsiderando não clientes (C-D) | totalConsentRequests - nonClientConsentsCreated |
| Funil API Pagam | Geração do consent ID (Clientes) | clientConsentsCreated |
| Funil API Pagam | Início da autenticação (Qtd) | events.REDIRECTED |
| Funil API Pagam | Conclusão da autenticação (Qtd) | events.LOGGED |
| Funil API Pagam | Autorização do Cliente | events.CODE_GENERATED |
| Funil API Pagam | Authorisation code emitido (Qtd) | events.CODE_GENERATED |
| Funil API Pagam | Redirect para ITP | events.CODE_GENERATED |
| Funil API Pagam | Access token gerado (Qtd) | events.TOKEN_GENERATED |
| Funil API Pagam | POST Pagamentos recebidos (Qtd) | events.PAYMENT_REQUEST_RECEIVED |
| Funil API Pagam | Payment ID gerado (Qtd) | events.PAYMENT_ID_GENERATED |
| Funil API Pagam | Pagamentos realizados com sucesso (Qtd) | events.PAYMENT_FINISHED |
| Funil API Pagam | Pagamentos agendados (Qtd) | events.PAYMENT_SCHEDULED |

For the 'Validações síncronas' and 'Validações assíncronas' tabs, use the endpoints:

[Summary of Provider Payments Synchronous Validations](https://developer.btgpactual.com/docbk#operation/provider-report-payment-consent-summary-synchronous)

[Summary of Provider Payments Asynchronous Validations](https://developer.btgpactual.com/docbk#operation/provider-report-payment-consent-summary-asynchronous)

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"dateFrom","description":"Filter transactions created from this date. Acceptable formats: yyyy-MM-dd or yyyy-MM-ddTHH:mm:ssZ. All date and times are save in UTC.","schema":{"default":"1970-01-01T00:00:00-03:00","type":"string"},"in":"query","required":true},{"name":"dateTo","description":"Filter transactions created up to this date. Acceptable formats: yyyy-MM-dd or yyyy-MM-ddTHH:mm:ssZ. All date and times are save in UTC.","schema":{"default":"9999-12-31T23:59:59-03:00","type":"string"},"in":"query","required":true},{"name":"organizationId","description":"Filter organizations by organizationId","schema":{"type":"string"},"in":"query"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"version":{"nullable":true,"type":"string"},"status":{"description":"","type":"integer"},"body":{"type":"array","items":{"type":"object","properties":{"organizationId":{"type":"string","description":"Receiver organization ID"},"organizationName":{"type":"string","description":"Receiver organization name"},"parentOrganizationReference":{"type":"string","description":"Receiver parent organization reference"},"totalConsentsCreated":{"type":"integer","description":"Total number of consents created"},"clientConsentsCreated":{"type":"integer","description":"Total number of consents from clients created"},"nonClientConsentsCreated":{"type":"integer","description":"Total number of consents from non-clients created"},"consentRequestErrors":{"type":"integer","description":"Number of consent request errors"},"totalConsentRequests":{"type":"integer","description":"Total number of consent requests"},"totalPaymentsCreated":{"type":"integer","description":"Total number of payments created"},"paymentRequestErrors":{"type":"integer","description":"Number of payment request errors"},"totalPaymentRequests":{"type":"integer","description":"Total number of payment requests"},"events":{"type":"object","properties":{"REDIRECTED":{"description":"Number of consents that were redirected to the login page","type":"integer"},"LOGGED":{"description":"Number of consents that were able to login","type":"integer"},"CODE_GENERATED":{"description":"Number of consents that had the Authorization Code generated","type":"integer"},"TOKEN_GENERATED":{"description":"Number of consents that had the Access Token generated","type":"integer"},"AWAITING_AUTHORISATION":{"description":"Number of consents that went to the AWAITING_AUTHORISATION status","type":"integer"},"AUTHORISED":{"description":"Number of consents that went to the AUTHORISED status","type":"integer"},"CONSUMED":{"description":"Number of consents that went to the CONSUMED status","type":"integer"},"REJECTED":{"description":"Number of consents that went to the REJECTED status","type":"integer"},"PAYMENT_REQUEST_RECEIVED":{"description":"Number of payment requests received","type":"integer"},"PAYMENT_ID_GENERATED":{"description":"Number of payments that had an ID generated","type":"integer"},"PAYMENT_FINISHED":{"description":"Number of payments that were finished","type":"integer"},"PAYMENT_REJECTED":{"description":"Number of payments rejected","type":"integer"},"PAYMENT_SCHEDULED":{"description":"Number of payments scheduled","type":"integer"}}}},"title":"ObkReportConsentPaymentFunnelItem"},"title":"ObkReportConsentPaymentFunnel"}},"additionalProperties":false,"example":{"version":"2.5.0","status":200,"body":[{"organizationId":"0bd0b05e-ce18-5105-bbe9-ddf16a79eff9","organizationName":"BANCO BTG PACTUAL S.A.","totalConsentsCreated":50,"clientConsentsCreated":45,"nonClientConsentsCreated":5,"consentRequestErrors":2,"totalConsentRequests":52,"totalPaymentsCreated":40,"paymentRequestErrors":3,"totalPaymentRequests":43,"events":{"REDIRECTED":50,"LOGGED":45,"CODE_GENERATED":44,"TOKEN_GENERATED":42,"AWAITING_AUTHORISATION":50,"AUTHORISED":43,"CONSUMED":42,"REJECTED":1,"PAYMENT_REQUEST_RECEIVED":43,"PAYMENT_ID_GENERATED":40,"PAYMENT_FINISHED":36,"PAYMENT_REJECTED":1,"PAYMENT_SCHEDULED":3}},{"organizationId":"fbc05726-899f-4470-a4e7-8cea7e7a3575","organizationName":"Organization Name One","totalConsentsCreated":20,"clientConsentsCreated":19,"nonClientConsentsCreated":1,"consentRequestErrors":1,"totalConsentRequests":21,"totalPaymentsCreated":15,"paymentRequestErrors":3,"totalPaymentRequests":18,"events":{"REDIRECTED":20,"LOGGED":19,"CODE_GENERATED":19,"TOKEN_GENERATED":19,"AWAITING_AUTHORISATION":20,"AUTHORISED":19,"CONSUMED":17,"REJECTED":1,"PAYMENT_REQUEST_RECEIVED":18,"PAYMENT_ID_GENERATED":15,"PAYMENT_FINISHED":13,"PAYMENT_REJECTED":1,"PAYMENT_SCHEDULED":1}}]},"title":"ObkReportConsentPaymentFunnelResponse"}}},"description":"Success"},"401":{"description":"Response when a request is not authorized for the user."},"404":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"NotFoundExample":{"value":{"version":"1.0.0","status":404}}}}},"description":"A NotFound response."},"500":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"InternalServerErrorExample":{"value":{"version":"1.0.0","status":500,"errors":[{"errorCode":"PIE001","message":"Internal server error"}]}}}}},"description":"Internal server error responses."}}}
>
  
</StatusCodes>


      
---
id: redirect-payment-consent
title: "Redirect a Payment Consent"
description: "This endpoint is used in app-to-app authorization flow, where the URL used by the Authorization Server as the authorization_endpoint will be provided by our client. This URL will have query parameters that should be sent to this endpoint. Example of authorization URL:  https://dapi.of.baas.btgpactual.com/authorize?client_id=b2e56453-cf9b-452a-b3c0-8eae2026ef77&request_uri=urn%3Aietf%3Aparams%3Aoauth%3Arequest_uri%3Ab9ad715e-f980-4bb6-aa0e-20f1d70159c0.  After the user is redirected to the URL (which should redirect the user to the APP), this endpoint should be called passing clientId 'b2e56453-cf9b-452a-b3c0-8eae2026ef77' and requestUri  'urn%3Aietf%3Aparams%3Aoauth%3Arequest_uri%3Ab9ad715e-f980-4bb6-aa0e-20f1d70159c0'. You can decode the parameters or not, both will work. The endpoint response will be a status (OK or ERROR) and, in case of OK, the consent information or, in case of ERROR, an URL for which the user should be immediately redirected to (this can happen if there is an error in the authorization URL, or if it was reused, for example)."
sidebar_label: "Redirect a Payment Consent"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: reference/open-finance/btg-pactual-banking-as-a-service-openfinance
custom_edit_url: null
proxy: https://proxy.writechoice.io/
---

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Redirect a Payment Consent"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/provider/payment/consent/redirect"}
  context={"endpoint"}
>
  
</MethodEndpoint>



This endpoint is used in app-to-app authorization flow, where the URL used by the Authorization Server as the authorization_endpoint will be provided by our client. This URL will have query parameters that should be sent to this endpoint. Example of authorization URL:  https://dapi.of.baas.btgpactual.com/authorize?client_id=b2e56453-cf9b-452a-b3c0-8eae2026ef77&request_uri=urn%3Aietf%3Aparams%3Aoauth%3Arequest_uri%3Ab9ad715e-f980-4bb6-aa0e-20f1d70159c0.  After the user is redirected to the URL (which should redirect the user to the APP), this endpoint should be called passing clientId 'b2e56453-cf9b-452a-b3c0-8eae2026ef77' and requestUri  'urn%3Aietf%3Aparams%3Aoauth%3Arequest_uri%3Ab9ad715e-f980-4bb6-aa0e-20f1d70159c0'. You can decode the parameters or not, both will work. The endpoint response will be a status (OK or ERROR) and, in case of OK, the consent information or, in case of ERROR, an URL for which the user should be immediately redirected to (this can happen if there is an error in the authorization URL, or if it was reused, for example).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"title":"Root Type for RedirectPaymentConsent","description":"","required":["clientId","requestUri","metadata"],"type":"object","properties":{"clientId":{"type":"string","description":"The 'client_id' parameter that was received in the authorization URL"},"requestUri":{"type":"string","description":"The 'request_uri' parameter that was received in the authorization URL"},"scope":{"type":"string","description":"The 'scope' parameter that was received in the authorization URL"},"responseType":{"type":"string","description":"The 'response_type' parameter that was received in the authorization URL"},"claims":{"type":"string","description":"The 'claims' parameter that was received in the authorization URL"},"nonce":{"type":"string","description":"The 'nonce' parameter that was received in the authorization URL"},"state":{"type":"string","description":"The 'state' parameter that was received in the authorization URL"},"redirectUri":{"type":"string","description":"The 'redirect_uri' parameter that was received in the authorization URL"},"redirectType":{"type":"string","description":"Type of redirection that the user went through. HANDOFF: if the user was redirected to the app using a QR Code (payment was initiated on desktop). MANUAL_REDIRECT: if the  authorization URL redirected the user to the smartphone's browser, then he had to press a button to be redirected to the APP. AUTOMATIC_REDIRECT: the user was redirected  directly to the APP. This information is used to send PCM Hybrid Flow reports.","default":"AUTOMATIC_REDIRECT","enum":["HANDOFF","MANUAL_REDIRECT","AUTOMATIC_REDIRECT"]},"metadata":{"required":["platform","os","osVersion"],"type":"object","description":"User metadata.","properties":{"platform":{"description":"User device Platform.","type":"string","enum":["BROWSER","APP"]},"os":{"description":"User device Operational System.","type":"string","enum":["ANDROID","IOS","WINDOWS","LINUX","MACOS","UNIX","OTHER"]},"osVersion":{"description":"User device Operational System's Version.","type":"string"}},"title":"ObkMetadata"}},"example":{"clientId":"b2e56453-cf9b-452a-b3c0-8eae2026ef77","requestUri":"urn:ietf:params:oauth:request_uri:388ab722-6254-4855-af79-14e14e4f5517","redirectType":"AUTOMATIC_REDIRECT","metadata":{"platform":"APP","os":"ANDROID","osVersion":"14.0.0"}}}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"title":"Root Type for RedirectConsentResponseV4","description":"Payment Consent Redirect Response","allOf":[{"description":"BaaS Response API Envelope","type":"object","properties":{"version":{"description":"The api version.","type":"string"},"status":{"format":"int32","description":"The HTTP response code.","type":"integer"}},"title":"ApiEnvelope"},{"type":"object"}],"properties":{"body":{"properties":{"status":{"type":"string","description":"Status of the redirection. If OK, the authorization can go on. If ERROR, the user should  be redirected back to the URL returned in errorCallbackUrl immediately.","enum":["OK","ERROR"]},"consent":{"allOf":[{"description":"Data Object.","type":"object","properties":{"pactualId":{"description":"Unique resource Identifier (Uuid) generated by api.","type":"string","title":"PactualId"},"clientRequestId":{"description":"The unique transaction identification given by the client side. This value can't be repeated.","type":"string","title":"ClientRequestId"},"createTimestamp":{"description":"Entity's creation timestamp.","type":"string","title":"CreateTimestamp"},"lastUpdateTimestamp":{"description":"Entity's last update timestamp.","type":"string","title":"LastUpdateTimestamp"},"entity":{"description":"Entity's name.","type":"string","title":"Entity"},"status":{"description":"Entity´s status.","type":"string","title":"EntityStatus"},"tags":{"description":"Tags that can be sent by the client, it will be saved on the Entity, use as a metadata field","type":"array","items":{"type":"string"},"example":["tag1","tag2"],"title":"Tags"}},"title":"EntityEnvelope"},{"type":"object"}],"properties":{"body":{"description":"Object containing ProviderPaymentConsent information.","type":"object","properties":{"authorizationServerId":{"format":"uuid","description":"Authorization Server Id","type":"string","title":"AuthorizationServerId"},"authorizationServerOrganizationId":{"format":"uuid","description":"Authorization Server Organization Id","type":"string","title":"AuthorizationServerOrganizationId"},"authorizationServerName":{"description":"Authorization Server Name","type":"string","title":"AuthorizationServerName"},"softwareStatementId":{"format":"uuid","description":"Software Statement Id","type":"string","title":"SoftwareStatementId"},"softwareStatementName":{"description":"Software Statement Name","type":"string","title":"SoftwareStatementName"},"softwareStatementLogo":{"description":"Software Statement Logo","type":"string","title":"SoftwareStatementLogo"},"softwareStatementOrganizationId":{"format":"uuid","description":"Software Statement Organization Id","type":"string","title":"SoftwareStatementOrganizationId"},"softwareStatementOrganizationName":{"description":"Software Statement Organization Name","type":"string","title":"SoftwareStatementOrganizationName"},"apiVersion":{"description":"Open Finance API Version","type":"string","title":"ApiVersion"},"fapiInteractionId":{"description":"FAPI Interaction Id","type":"string","title":"FapiInteractionId"},"idempotencyKey":{"description":"The Idempotency Key used by the Open Banking Participant, this is a unique id of the request","type":"string","title":"IdempotencyKey"},"data":{"description":"Object containing ProviderPaymentConsent Data information.","type":"object","properties":{"statusUpdateDateTime":{"format":"YYYY-MM-DDTHH:MM:SSZ","description":"Date and time the entity was updated\n","type":"string","title":"StatusUpdateDateTime"},"status":{"description":"The state of the consent, which at the time of its creation will be AWAITING_AUTHORISATION.\nThis status will be changed after the authorization of consent in the holder of the payer account (Debtor) to AUTHORISED or REJECTED.  \n","enum":["AWAITING_AUTHORISATION","AUTHORISED","REJECTED","CONSUMED"],"type":"string","title":"PaymentConsentStatus"},"expirationDateTime":{"format":"date-time","description":"Entity expiration datetime.","type":"string","title":"ExpirationDateTime"},"consentId":{"description":"Consent unique identifier for the payment initiation\n","type":"string","title":"ConsentId"},"creationDateTime":{"format":"YYYY-MM-DDTHH:MM:SSZ","description":"Entity creation datetime","type":"string","title":"CreationDateTime"},"rejectionReason":{"description":"Payment Consent Rejection reason object","type":"object","properties":{"code":{"description":"Consent Rejection Reason Code","enum":["VALOR_INVALIDO","NAO_INFORMADO","FALHA_INFRAESTRUTURA","TEMPO_EXPIRADO_AUTORIZACAO","TEMPO_EXPIRADO_CONSUMO","REJEITADO_USUARIO","CONTAS_ORIGEM_DESTINO_IGUAIS","CONTA_NAO_PERMITE_PAGAMENTO","SALDO_INSUFICIENTE","VALOR_ACIMA_LIMITE","QRCODE_INVALIDO"],"type":"string","title":"ConsentRejectionReasonCode"},"detail":{"description":"Additional Inforamtion regarding the rejection.","type":"string","title":"ConsentRejectionReasonDetail"}},"title":"ConsentRejectionReason"},"payment":{"description":"Object containing payment data to be consented","type":"object","properties":{"type":{"description":"Payment Type","enum":["PIX"],"type":"string","title":"PaymentType"},"date":{"format":"YYYY-MM-DD","description":"Payment date","type":"string","title":"Date"},"currency":{"description":"Payment currency code","enum":["BRL"],"type":"string","title":"Currency"},"amount":{"format":"decimal","description":"Transacion amount with 2 decimal places","type":"number","title":"Amount"},"ibgeTownCode":{"description":"City code according to the IBGE","type":"string","title":"IBGETownCode"},"details":{"description":"Object containing payment detais","type":"object","properties":{"localInstrument":{"description":"Specifies which form the payment was initiatied","enum":["MANU - Manual insertion of the account - The fields qrCode and proxy will not be on the response, only the creditorAccount","DICT - Uses a Pix Dict Key to identify the account - The qrCode will not be on the response, only proxy and creditorAccount","QRDN - Dynamic QRCode - The qrCode, proxy and creditorAccount will be on the response","QRES - Static QRCode The qrCode, proxy and creditorAccount will be on the response"],"type":"string","title":"LocalInstrument"},"qrCode":{"description":"QRcode value after beign read by a QRCode reader (the Pix Copia e Cola code), this field will only be on the request if the type is QRDN or QRES","type":"string","title":"QrCode"},"proxy":{"description":"The Pix Dict Key, all key types are allowed. If the initiation type is MANU this field must be empty","type":"string","title":"Proxy"},"creditorAccount":{"description":"Object containing the account that will be charged.","type":"object","properties":{"ispb":{"description":"ISPB (Identificador do Sistema de Pagamentos Brasileiros) number","type":"string","title":"ISPB"},"issuer":{"description":"Branch code without the digit","type":"string","title":"Issuer"},"number":{"description":"Account number","type":"string","title":"AccountNumber"},"accountType":{"description":"Account type used for Pix Payments","enum":["CACC","SVGS","TRAN"],"type":"string","title":"AccountType"}},"title":"DebtorAccount"}},"title":"PaymentConsentPaymentDetails"},"schedule":{"title":"Root Type for PaymentConsentScheduleV4","description":"Only one of the objects will be informed.","type":"object","properties":{"single":{"description":"Scheduled payment that will happen only once.","type":"object","properties":{"date":{"format":"date","type":"string"}}},"daily":{"description":"Scheduled payment that will happen once a day, for the specified amount of times.","type":"object","properties":{"startDate":{"format":"date","type":"string"},"quantity":{"type":"integer"}}},"weekly":{"description":"Scheduled payment that will happen once a week, in the day of the week specified, for the specified amount of times.","type":"object","properties":{"dayOfWeek":{"enum":["SEGUNDA_FEIRA","TERCA_FEIRA","QUARTA_FEIRA","QUINTA_FEIRA","SEXTA_FEIRA","SABADO","DOMINGO"],"type":"string"},"startDate":{"format":"date","type":"string"},"quantity":{"type":"integer"}}},"monthly":{"description":"Scheduled payment that will happen once a month, in the day of the month specified, for the specified amount of times.","type":"object","properties":{"dayOfMonth":{"type":"integer"},"startDate":{"format":"date","type":"string"},"quantity":{"type":"integer"}}},"custom":{"description":"Scheduled payment that will happen in the specified dates. The dates can't be repeated.","type":"object","properties":{"dates":{"type":"array","items":{"format":"date","type":"string"}},"additionalInformation":{"type":"string"}}}},"example":{"single":{"date":"2023-03-10"}}}},"title":"PaymentConsentPaymentV4"},"creditor":{"description":"Object containing the receiver data","type":"object","properties":{"personType":{"description":"Describes if the creditor is a person or a company","type":"string","title":"PersonType"},"cpfCnpj":{"description":"Value of the CPF for a person or CNPJ for a comapny","type":"string","title":"CpfCnpj"},"name":{"description":"Name of the person or company","type":"string","title":"Name"}},"title":"Creditor"},"debtorAccount":{"description":"Object containing the account that will be charged.","type":"object","properties":{"ispb":{"description":"ISPB (Identificador do Sistema de Pagamentos Brasileiros) number","type":"string","title":"ISPB"},"issuer":{"description":"Branch code without the digit","type":"string","title":"Issuer"},"number":{"description":"Account number","type":"string","title":"AccountNumber"},"accountType":{"description":"Account type used for Pix Payments","enum":["CACC","SVGS","TRAN"],"type":"string","title":"AccountType"}},"title":"DebtorAccount"},"loggedUser":{"description":"User (natural person) that is logged in the PISP.","type":"object","properties":{"document":{"description":"Object containing document information","required":["identification","rel"],"type":"object","properties":{"identification":{"description":"The number of the document","type":"string","title":"Identification"},"rel":{"description":"The type of document (CPF/CNPJ)","type":"string","title":"Rel"}},"title":"Document"}},"title":"LoggedUser"},"businessEntity":{"description":"Legal entity to which the shared data refers. Only returned if it is a business entity consent.","type":"object","properties":{"document":{"description":"Object containing document information","required":["identification","rel"],"type":"object","properties":{"identification":{"description":"The number of the document","type":"string","title":"Identification"},"rel":{"description":"The type of document (CPF/CNPJ)","type":"string","title":"Rel"}},"title":"Document"}},"title":"BusinessEntity"}},"title":"ProviderPaymentConsentBodyData"},"metadata":{"required":["platform","os","osVersion"],"type":"object","description":"User metadata.","properties":{"platform":{"description":"User device Platform.","type":"string","enum":["BROWSER","APP"]},"os":{"description":"User device Operational System.","type":"string","enum":["ANDROID","IOS","WINDOWS","LINUX","MACOS","UNIX","OTHER"]},"osVersion":{"description":"User device Operational System's Version.","type":"string"}},"title":"ObkMetadata"}},"title":"ProviderPaymentConsentBody"}}},"errorCallbackUrl":{"type":"string","description":"The URL that the user should be redirected back in case of ERROR."}},"title":"RedirectPaymentConsentBody"}}},"examples":{"OK":{"value":{"version":"5.1.0","status":200,"body":{"status":"OK","consent":{"pactualId":"f53431af-9451-4332-950f-2d55d959ac68","clientRequestId":"4cf81ec9-894e-4b43-af54-3871c09dc962","createTimestamp":"2023-03-07T11:55:55.925503+00:00","lastUpdateTimestamp":"2023-03-07T11:56:01.6931098+00:00","entity":"ProviderPaymentConsent","status":"AWAITING_VALIDATION","body":{"idempotencyKey":"bf7088d2-0687-4e39-b0cb-b51d7d68858a","fapiInteractionId":"bf7088d2-0687-4e39-b0cb-b51d7d68858a","authorizationServerId":"b6bd522b-5fe2-427c-880e-6bb8e9c71672","authorizationServerOrganizationId":"0bd0b05e-ce18-5105-bbe9-ddf16a79eff9","authorizationServerName":"BANCO BTG PACTUAL S.A.","softwareStatementId":"e6d01801-0dbb-48a6-aa4f-b8ac04fd0f8d","softwareStatementName":"BANCO BTG PACTUAL S.A.","softwareStatementLogo":"https://www.btgpactual.com/assets/images/btg-logo-blue.svg","softwareStatementOrganizationId":"0bd0b05e-ce18-5105-bbe9-ddf16a79eff9","softwareStatementOrganizationName":"BANCO BTG PACTUAL S.A.","apiVersion":"4.0.0","data":{"creditor":{"personType":"PESSOA_NATURAL","cpfCnpj":"47996652007","name":"John Doe"},"payment":{"type":"PIX","date":"2023-03-07","currency":"BRL","amount":"0.10","details":{"localInstrument":"MANU","creditorAccount":{"ispb":"30306294","issuer":"0030","number":"1155","accountType":"CACC"}}},"creationDateTime":"2023-03-07T11:55:47.700Z","status":"AWAITING_AUTHORISATION","statusUpdateDateTime":"2023-03-07T11:55:47.700Z","expirationDateTime":"2023-03-07T12:00:47.700Z","loggedUser":{"document":{"identification":"18475198066","rel":"CPF"}},"consentId":"urn:btgpactual:c5392a7a-4a30-428d-b2aa-f682b5d7753c"}},"tags":[]}}}},"ERROR":{"value":{"version":"5.1.0","status":200,"body":{"status":"ERROR","errorCallbackUrl":"https://btgpactual.com/callback#error=invalid_request_uri&error_description=RequestUri%20invalid%20or%20expired.&state=GBWdvEnNt5uL-LAMDPvSIOORfaWQ4s1obNzVmvPYy6U"}}}}}},"description":"Redirect Consent response."},"401":{"description":"Response when a request is not authorized for the user."},"404":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"NotFoundExample":{"value":{"version":"1.0.0","status":404}}}}},"description":"A NotFound response."},"500":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"InternalServerErrorExample":{"value":{"version":"1.0.0","status":500,"errors":[{"errorCode":"PIE001","message":"Internal server error"}]}}}}},"description":"Internal server error responses."}}}
>
  
</StatusCodes>


      
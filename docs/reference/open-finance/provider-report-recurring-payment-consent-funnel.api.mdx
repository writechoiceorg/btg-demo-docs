---
id: provider-report-recurring-payment-consent-funnel
title: "Funnel of provider recurring payment consents"
description: "Endpoint to get funnel of provider recurring payment consents, for a given period. To fill the BACEN 'Interoperabilidade da Fase 3' sheet data, use the following fields:"
sidebar_label: "Funnel of provider recurring payment consents"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: reference/open-finance/btg-pactual-banking-as-a-service-openfinance
custom_edit_url: null
proxy: https://proxy.writechoice.io/
---

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Funnel of provider recurring payment consents"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/provider/report/recurring-payment/consent/funnel"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Endpoint to get funnel of provider recurring payment consents, for a given period. To fill the BACEN 'Interoperabilidade da Fase 3' sheet data, use the following fields:

| Sheet Tab | Sheet Field | Endpoint Field |
|----------|:-------------|:-------------|
| Funil 1 API Pagam Automáticos | POST Consentimento solicitados | totalConsentRequests |
| Funil 1 API Pagam Automáticos | Geração do consent ID (não Clientes) | nonClientConsentsCreated |
| Funil 1 API Pagam Automáticos | POST Consentimento solicitados desconsiderando não clientes (C-D) | totalConsentRequests - nonClientConsentsCreated |
| Funil 1 API Pagam Automáticos | Geração do consent ID (Clientes) | clientConsentsCreated |
| Funil 1 API Pagam Automáticos | Início da autenticação (Qtd) | events.REDIRECTED |
| Funil 1 API Pagam Automáticos | Conclusão da autenticação (Qtd) | events.LOGGED |
| Funil 1 API Pagam Automáticos | Autorização do Cliente | events.CODE_GENERATED |
| Funil 1 API Pagam Automáticos | Authorisation code emitido (Qtd) | events.CODE_GENERATED |
| Funil 1 API Pagam Automáticos | Redirect para ITP | events.CODE_GENERATED |
| Funil 1 API Pagam Automáticos | Access token gerado (Qtd) | events.TOKEN_GENERATED |
| Funil 2 API Pagam Automáticos | POST Pagamentos recebidos (Qtd) | events.PAYMENT_REQUEST_RECEIVED |
| Funil 2 API Pagam Automáticos | Payment ID gerado (Qtd) | events.PAYMENT_ID_GENERATED |
| Funil 2 API Pagam Automáticos | Pagamentos realizados com sucesso (Qtd) | events.PAYMENT_FINISHED |
| Funil 2 API Pagam Automáticos | Pagamentos com agendamentos a realizar (Qtd) | events.PAYMENT_SCHEDULED |

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"dateFrom","description":"Filter transactions created from this date. Acceptable formats: yyyy-MM-dd or yyyy-MM-ddTHH:mm:ssZ. All date and times are save in UTC.","schema":{"default":"1970-01-01T00:00:00-03:00","type":"string"},"in":"query","required":true},{"name":"dateTo","description":"Filter transactions created up to this date. Acceptable formats: yyyy-MM-dd or yyyy-MM-ddTHH:mm:ssZ. All date and times are save in UTC.","schema":{"default":"9999-12-31T23:59:59-03:00","type":"string"},"in":"query","required":true},{"name":"organizationId","description":"Filter organizations by organizationId","schema":{"type":"string"},"in":"query"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"version":{"nullable":true,"type":"string"},"status":{"description":"","type":"integer"},"body":{"type":"array","items":{"type":"object","properties":{"organizationId":{"type":"string","description":"Receiver organization ID"},"organizationName":{"type":"string","description":"Receiver organization name"},"parentOrganizationReference":{"type":"string","description":"Receiver parent organization reference"},"totalConsentsCreated":{"type":"integer","description":"Total number of consents created"},"clientConsentsCreated":{"type":"integer","description":"Total number of consents from clients created"},"nonClientConsentsCreated":{"type":"integer","description":"Total number of consents from non-clients created"},"consentRequestErrors":{"type":"integer","description":"Number of consent request errors"},"totalConsentRequests":{"type":"integer","description":"Total number of consent requests"},"totalPaymentsCreated":{"type":"integer","description":"Total number of payments created"},"paymentRequestErrors":{"type":"integer","description":"Number of payment request errors"},"totalPaymentRequests":{"type":"integer","description":"Total number of payment requests"},"events":{"type":"object","properties":{"REDIRECTED":{"description":"Number of consents that were redirected to the login page","type":"integer"},"LOGGED":{"description":"Number of consents that were able to login","type":"integer"},"CODE_GENERATED":{"description":"Number of consents that had the Authorization Code generated","type":"integer"},"TOKEN_GENERATED":{"description":"Number of consents that had the Access Token generated","type":"integer"},"AWAITING_AUTHORISATION":{"description":"Number of consents that went to the AWAITING_AUTHORISATION status","type":"integer"},"AUTHORISED":{"description":"Number of consents that went to the AUTHORISED status","type":"integer"},"CONSUMED":{"description":"Number of consents that went to the CONSUMED status","type":"integer"},"REJECTED":{"description":"Number of consents that went to the REJECTED status","type":"integer"},"PAYMENT_REQUEST_RECEIVED":{"description":"Number of payment requests received","type":"integer"},"PAYMENT_ID_GENERATED":{"description":"Number of payments that had an ID generated","type":"integer"},"PAYMENT_FINISHED":{"description":"Number of payments that were finished","type":"integer"},"PAYMENT_REJECTED":{"description":"Number of payments rejected","type":"integer"},"PAYMENT_SCHEDULED":{"description":"Number of payments scheduled","type":"integer"}}}},"title":"ObkReportConsentPaymentFunnelItem"},"title":"ObkReportConsentPaymentFunnel"}},"additionalProperties":false,"example":{"version":"2.5.0","status":200,"body":[{"organizationId":"0bd0b05e-ce18-5105-bbe9-ddf16a79eff9","organizationName":"BANCO BTG PACTUAL S.A.","totalConsentsCreated":50,"clientConsentsCreated":45,"nonClientConsentsCreated":5,"consentRequestErrors":2,"totalConsentRequests":52,"totalPaymentsCreated":40,"paymentRequestErrors":3,"totalPaymentRequests":43,"events":{"REDIRECTED":50,"LOGGED":45,"CODE_GENERATED":44,"TOKEN_GENERATED":42,"AWAITING_AUTHORISATION":50,"AUTHORISED":43,"CONSUMED":42,"REJECTED":1,"PAYMENT_REQUEST_RECEIVED":43,"PAYMENT_ID_GENERATED":40,"PAYMENT_FINISHED":36,"PAYMENT_REJECTED":1,"PAYMENT_SCHEDULED":3}},{"organizationId":"fbc05726-899f-4470-a4e7-8cea7e7a3575","organizationName":"Organization Name One","totalConsentsCreated":20,"clientConsentsCreated":19,"nonClientConsentsCreated":1,"consentRequestErrors":1,"totalConsentRequests":21,"totalPaymentsCreated":15,"paymentRequestErrors":3,"totalPaymentRequests":18,"events":{"REDIRECTED":20,"LOGGED":19,"CODE_GENERATED":19,"TOKEN_GENERATED":19,"AWAITING_AUTHORISATION":20,"AUTHORISED":19,"CONSUMED":17,"REJECTED":1,"PAYMENT_REQUEST_RECEIVED":18,"PAYMENT_ID_GENERATED":15,"PAYMENT_FINISHED":13,"PAYMENT_REJECTED":1,"PAYMENT_SCHEDULED":1}}]},"title":"ObkReportConsentPaymentFunnelResponse"}}},"description":"Success"},"401":{"description":"Response when a request is not authorized for the user."},"404":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"NotFoundExample":{"value":{"version":"1.0.0","status":404}}}}},"description":"A NotFound response."},"500":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"InternalServerErrorExample":{"value":{"version":"1.0.0","status":500,"errors":[{"errorCode":"PIE001","message":"Internal server error"}]}}}}},"description":"Internal server error responses."}}}
>
  
</StatusCodes>


      
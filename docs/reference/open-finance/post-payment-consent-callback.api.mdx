---
id: post-payment-consent-callback
title: "Payment consent callback"
description: "This method must be called to finish the consent flow. The client implementing this logic must have a callback page in his app/site which must be able to read 5 parameters  (code, id_token, state, error, error_description) that can be passed to the callback  page either through query parameters (?code=...&id_token=....) or by fragment (#code=...&id_token=...). Please be advised that the fragment is a client side only feature, it will not be sent to  any backend so it must have a special treatment to capture it from the url and send to this endpoint."
sidebar_label: "Payment consent callback"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: reference/open-finance/btg-pactual-banking-as-a-service-openfinance
custom_edit_url: null
proxy: https://proxy.writechoice.io/
---

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Payment consent callback"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/receiver/payment/consent/pix/callback"}
  context={"endpoint"}
>
  
</MethodEndpoint>



This method must be called to finish the consent flow. The client implementing this logic must have a callback page in his app/site which must be able to read 5 parameters  (code, id_token, state, error, error_description) that can be passed to the callback  page either through query parameters (?code=...&id_token=....) or by fragment (#code=...&id_token=...). Please be advised that the fragment is a client side only feature, it will not be sent to  any backend so it must have a special treatment to capture it from the url and send to this endpoint.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Payload for Payment Consent Callback.","content":{"application/json":{"schema":{"required":["state"],"type":"object","properties":{"state":{"description":"Security field from the FAPI flow, it is mandatory on every request, it is used to prevent CSRF","type":"string"},"code":{"description":"Code that will be used to exchage it for a token - Required if the consent was AUTHORISED by the user.","type":"string"},"idToken":{"description":"FAPI token to transport user information - Required if the consent was AUTHORISED by the user.","type":"string"},"error":{"description":"The error regarding the authentication result - Required if there was an error with the Consent or it was rejected.","type":"string"},"errorDescription":{"description":"The error description regarding the authentication result - Required if there was an error with the Consent or it was rejected.","type":"string"}},"additionalProperties":false,"title":"ObkCallbackRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"type":"object","allOf":[{"description":"BaaS Response API Envelope","type":"object","properties":{"version":{"description":"The api version.","type":"string"},"status":{"format":"int32","description":"The HTTP response code.","type":"integer"}},"title":"ApiEnvelope"},{"type":"object"}],"properties":{"body":{"allOf":[{"description":"Data Object.","type":"object","properties":{"pactualId":{"description":"Unique resource Identifier (Uuid) generated by api.","type":"string","title":"PactualId"},"clientRequestId":{"description":"The unique transaction identification given by the client side. This value can't be repeated.","type":"string","title":"ClientRequestId"},"createTimestamp":{"description":"Entity's creation timestamp.","type":"string","title":"CreateTimestamp"},"lastUpdateTimestamp":{"description":"Entity's last update timestamp.","type":"string","title":"LastUpdateTimestamp"},"entity":{"description":"Entity's name.","type":"string","title":"Entity"},"status":{"description":"EntityÂ´s status.","type":"string","title":"EntityStatus"},"tags":{"description":"Tags that can be sent by the client, it will be saved on the Entity, use as a metadata field","type":"array","items":{"type":"string"},"example":["tag1","tag2"],"title":"Tags"}},"title":"EntityEnvelope"},{"type":"object"}],"properties":{"body":{"type":"object","properties":{"authorizationServerId":{"description":"Openbanking Authorization Server Id corresponding to the ASPSP (Account Servicing Payment Service Provider).","type":"string"},"consentRedirectUrl":{"description":"Redirect URL to ASPSP's app. This is the URL you have to redirect you user to.","type":"string"},"redirectCallbackUrl":{"description":"URL that the user will be redirected to, after approving/rejecting the consent in  the ASPSP. This URL must be registered in the 'Redirect Callback Url' API.","type":"string"},"endToEndId":{"type":"string","description":"Unique identifier of the Pix Payment, this Id is generated by our PISP platform and is  used on the Pix. For scheduled payments with more than one payment, this endToEndId will be of the first payment to happen."},"remittanceInformation":{"description":"Additional information on a payment, to be sent to the recipient.","type":"string"},"transactionIdentification":{"description":"Transaction identifier that must be retransmitted intact by the payer's PSP.","type":"string"},"state":{"description":"Identification of the Consent used in the redirect callback.","type":"string"},"integrationErrorDetail":{"description":"Error details if the integration with the ASPSP fails.","type":"object","properties":{"httpStatusCode":{"description":"HTTP status code returned by the ASPSP.","type":"integer"},"code":{"description":"Open Finance error code.","type":"string"},"title":{"description":"Human readable error title.","type":"string"},"detail":{"description":"Human readable error details.","type":"string"}},"title":"ObkIntegrationErrorDetail"},"data":{"type":"object","properties":{"consentId":{"description":"Unique identifier (URN) of the Payment Consent.","type":"string"},"status":{"description":"The consent's status. It will start as AWAITING_AUTHORISATION. Then it can go to either AUTHORISED or REJECTED, depending on the user's action. If AUTHORISED, the status will change to CONSUMED after the Payment is created.","enum":["AWAITING_AUTHORISATION","AUTHORISED","REJECTED","CONSUMED"],"type":"string"},"creationDateTime":{"description":"Date and time the consent was created. Format: RFC-3339 specification, UTC.","type":"string"},"statusUpdateDateTime":{"description":"Date and time the consent status was last updated. Format: RFC-3339 specification, UTC.","type":"string"},"expirationDateTime":{"description":"Date and time the consent expires. Format: RFC-3339 specification, UTC.","type":"string"},"loggedUser":{"description":"User (natural person) that is logged in the PISP.","type":"object","properties":{"document":{"description":"Object containing document information","required":["identification","rel"],"type":"object","properties":{"identification":{"description":"The number of the document","type":"string","title":"Identification"},"rel":{"description":"The type of document (CPF/CNPJ)","type":"string","title":"Rel"}},"title":"Document"}},"title":"LoggedUser"},"businessEntity":{"description":"Legal entity to which the shared data refers. Only returned if it is a business entity consent.","type":"object","properties":{"document":{"description":"Object containing document information","required":["identification","rel"],"type":"object","properties":{"identification":{"description":"The number of the document","type":"string","title":"Identification"},"rel":{"description":"The type of document (CPF/CNPJ)","type":"string","title":"Rel"}},"title":"Document"}},"title":"BusinessEntity"},"creditor":{"type":"object","properties":{"personType":{"description":"Types of person","enum":["NATURAL_PERSON","LEGAL_ENTITY"],"type":"string","title":"ObkPersonType"},"cpfCnpj":{"description":"Creditor's official identification document number","type":"string"},"name":{"description":"Name of creditor","type":"string"}},"title":"ObkRecCreditor"},"payment":{"type":"object","properties":{"type":{"description":"Type of the payment that will be made after consent approval.","enum":["PIX"],"type":"string"},"date":{"description":"Payment date for unique immediate payment initiations. This will only exists if there is no schedule. Format: 'yyyy-MM-dd'.","type":"string","format":"date"},"currency":{"description":"Currency code for the payment, following the ISO-4217 specification. This will always be 'BRL'.","type":"string"},"amount":{"format":"int64","description":"Transaction amount in cents. Ex: R$25.34 is 2534.","type":"integer"},"schedule":{"description":"Field used to schedule a payment initiation. Only one of its objects must be filled. All dates must always consider the GMT-3 timezone (BRT) and be at least D+1 and at most D+730.","type":"object","properties":{"single":{"description":"Object for scheduling of a single payment.","required":["date"],"type":"object","properties":{"date":{"description":"The date that the payment will be scheduled to. Format: 'yyyy-MM-dd'.","type":"string","format":"date"}},"title":"ObkPaymentConsentScheduleSingle"},"daily":{"description":"Object for scheduling of a recurring daily payment. The first payment will happen in the  'startDate', and the recurrence will follow daily for the amount of times specified in 'quantity'.  Ex: startDate 2024-06-01 and quantity 5, the payments will happen in 2024-06-01, 2024-06-02,  2024-06-03, 2024-06-04 and 2024-06-05.","required":["startDate","quantity"],"type":"object","properties":{"startDate":{"description":"The date that the recurring daily payment will start at.  Format: 'yyyy-MM-dd'.","type":"string","format":"date"},"quantity":{"description":"The amount of payments to be scheduled.","type":"integer","minimum":2,"maximum":60}},"title":"ObkPaymentConsentScheduleDaily"},"weekly":{"description":"Object for scheduling of a recurring weekly payment. The first payment will happen in the  'startDate', and the recurrence will follow weekly, in the dayOfWeek specified, for the amount  of times in 'quantity'.  Ex: startDate 2024-06-05, dayOfWeek QUARTA_FEIRA and quantity 3, the payments will happen in  2024-06-05, 2024-06-12 and 2024-06-19.","required":["startDate","dayOfWeek","quantity"],"type":"object","properties":{"startDate":{"description":"The date that the recurring weekly payment will start at. Must be in the specified dayOfWeek. Format: 'yyyy-MM-dd'.","type":"string","format":"date"},"dayOfWeek":{"description":"Day of the week that the payments will be scheduled.","enum":["SEGUNDA_FEIRA","TERCA_FEIRA","QUARTA_FEIRA","QUINTA_FEIRA","SEXTA_FEIRA","SABADO","DOMINGO"],"type":"string"},"quantity":{"description":"The amount of payments to be scheduled.","type":"integer","minimum":2,"maximum":60}},"title":"ObkPaymentConsentScheduleWeekly"},"monthly":{"description":"Object for scheduling of a recurring monthly payment. The first payment will happen in the  'startDate', and the recurrence will follow monthly, in the dayOfMonth specified, for the amount  of times in 'quantity'.  Ex: startDate 2024-06-01, dayOfMonth 1 and quantity 3, the payments will happen in  2024-06-01, 2024-07-01 and 2024-08-01.","required":["startDate","dayOfMonth","quantity"],"type":"object","properties":{"startDate":{"description":"The date that the recurring monthly payment will start at. Must be in the specified dayOfMonth. Format: 'yyyy-MM-dd'.","type":"string","format":"date"},"dayOfMonth":{"description":"Day of the month that the payments will be scheduled.","type":"integer","minimum":1,"maximum":31},"quantity":{"description":"The amount of payments to be scheduled.","type":"integer","minimum":2,"maximum":24}},"title":"ObkPaymentConsentScheduleMonthly"},"custom":{"description":"Object for scheduling of a custom scheduled payment, specifying all dates in which the payment will occur. Ex: 2024-06-01, 2024-06-20, 2024-12-15, 2025-05-01.","required":["dates","additionalInformation"],"type":"object","properties":{"dates":{"description":"The list of dates that the payment will be scheduled to. Format: 'yyyy-MM-dd'.","type":"array","items":{"type":"string"}},"additionalInformation":{"description":"Open field to be filled by the user to identify this payment initiation. It will be showed for the user in the ASPSP's app.","type":"string","maxLength":255}},"title":"ObkPaymentConsentScheduleCustom"}},"title":"ObkPaymentConsentSchedule"},"details":{"type":"object","properties":{"localInstrument":{"description":"Payment initiation method: \r\n\r\nMANU - Manual entry of transaction account data.\r\nDICT - Manual insertion of Pix key.\r\nQRDN - Dynamic QR code.\r\nQRES - static QR code.\r\nINIC - Indicates that the payee (creditor) has contracted the Payment Initiator specifically to carry out payment initiations where the payee is known in advance.","enum":["MANU","DICT","QRDN","QRES","INIC"],"type":"string","title":"ObkLocalInstrument"},"qrCode":{"description":"The QR Code used in the payment initiation.","type":"string"},"proxy":{"description":"Pix Key registered in the DICT belonging to the recipient.","type":"string"},"creditorAccount":{"type":"object","properties":{"ispb":{"description":"ISPB (Brazilian Payments System Identifier) of the SPI (Instant Payments System) participant with numbers only.","type":"string"},"issuer":{"description":"Account issuing agency code without digit. Required for the following account types: CACC, SVGS.","type":"string"},"number":{"description":"Account number, with a check digit (if it exists), if there is an alphanumeric value, it must be converted to 0.","type":"string"},"accountType":{"description":"Types of accounts: \r\n\r\nCACC (Current Account).\r\n SVGS (Savings Account).\r\nTRAN (Transacting Account - Prepaid Payment Account)","enum":["CACC","SVGS","TRAN"],"type":"string","title":"ObkAccountType"}},"title":"ObkRecAccount"}},"title":"ObkRecPaymentConsentDataPaymentDetails"}},"title":"ObkRecPaymentConsentDataPayment"},"debtorAccount":{"type":"object","properties":{"ispb":{"description":"ISPB (Brazilian Payments System Identifier) of the SPI (Instant Payments System) participant with numbers only.","type":"string"},"issuer":{"description":"Account issuing agency code without digit. Required for the following account types: CACC, SVGS.","type":"string"},"number":{"description":"Account number, with a check digit (if it exists), if there is an alphanumeric value, it must be converted to 0.","type":"string"},"accountType":{"description":"Types of accounts: \r\n\r\nCACC (Current Account).\r\n SVGS (Savings Account).\r\nTRAN (Transacting Account - Prepaid Payment Account)","enum":["CACC","SVGS","TRAN"],"type":"string","title":"ObkAccountType"}},"title":"ObkRecAccount"},"rejectionReason":{"description":"Payment Consent Rejection reason object","type":"object","properties":{"code":{"description":"Consent Rejection Reason Code","enum":["VALOR_INVALIDO","NAO_INFORMADO","FALHA_INFRAESTRUTURA","TEMPO_EXPIRADO_AUTORIZACAO","TEMPO_EXPIRADO_CONSUMO","REJEITADO_USUARIO","CONTAS_ORIGEM_DESTINO_IGUAIS","CONTA_NAO_PERMITE_PAGAMENTO","SALDO_INSUFICIENTE","VALOR_ACIMA_LIMITE","QRCODE_INVALIDO"],"type":"string","title":"ConsentRejectionReasonCode"},"detail":{"description":"Additional Inforamtion regarding the rejection.","type":"string","title":"ConsentRejectionReasonDetail"}},"title":"ConsentRejectionReason"}},"title":"ObkRecPaymentConsentData"},"metadata":{"required":["platform","os","osVersion"],"type":"object","description":"User metadata.","properties":{"platform":{"description":"User device Platform.","type":"string","enum":["BROWSER","APP"]},"os":{"description":"User device Operational System.","type":"string","enum":["ANDROID","IOS","WINDOWS","LINUX","MACOS","UNIX","OTHER"]},"osVersion":{"description":"User device Operational System's Version.","type":"string"}},"title":"ObkMetadata"}},"title":"ObkRecPaymentConsent"}}}},"title":"ObkRecPaymentConsentResponse"}}},"description":"Success"},"400":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"BadRequestExample":{"value":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is mandatory."},{"errorCode":"PCE001","message":"The field 'accountNumber' is mandatory."}]}}}}},"description":"A BadRequest response."},"401":{"description":"Response when a request is not authorized for the user."},"403":{"description":"Response when the resource can not be accessed by the user."},"404":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"NotFoundExample":{"value":{"version":"1.0.0","status":404}}}}},"description":"A NotFound response."},"500":{"content":{"application/json":{"schema":{"title":"PactualErrorResponse","description":"Default response body in case of any errors.","type":"object","properties":{"version":{"description":"Api version.","type":"string"},"status":{"description":"Http status code.","type":"string"},"errors":{"description":"Array of errors.","type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string"},"message":{"type":"string"}}}}},"example":{"version":"1.0.0","status":400,"errors":[{"errorCode":"PCE001","message":"The field 'name' is required."},{"errorCode":"PCE002","message":"The field 'taxId' is incorrect."}]}},"examples":{"InternalServerErrorExample":{"value":{"version":"1.0.0","status":500,"errors":[{"errorCode":"PIE001","message":"Internal server error"}]}}}}},"description":"Internal server error responses."}}}
>
  
</StatusCodes>


      